
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Parameter tree structure &#8212; ptypy 0.8.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/header.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/ptypyicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ptypy package" href="ptypy.html" />
    <link rel="prev" title="Data management" href="data_management.html" />
<link href='http://fonts.googleapis.com/css?family=PT+Sans|Ubuntu|Cuprum' rel='stylesheet' type='text/css'>

  </head><body>



<div class="pageheader">
  <ul>
    <li><a href="http://ptycho.github.io/ptypy">Home</a></li>
    <li><a href="http://www.github.com/ptycho/ptypy">Github</a></li>
    <li><a href="../content.html">Docs</a></li>
    <!-- <li><a href="develop.html">Extend/Develop</a></li> -->
  </ul>
  <div>
    <a href="../index.html"><img src="../_static/logo_60px.png" alt="SPHINX" /></a>

    <h0 style="padding-bottom:40px">Ptychography for Python</h0>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.html" title="ptypy package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="data_management.html" title="Data management"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.8.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Parameter tree structure</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="parameter-tree-structure">
<span id="parameters"></span><h1>Parameter tree structure<a class="headerlink" href="#parameter-tree-structure" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section needs to be reworked to account for the
recursive nature for <a class="reference external" href="http://www.github.com/ptycho/ptypy/">PtyPy</a>’s parameter tree.
Please use the examples in the templates folder to
craft your own scripts.</p>
</div>
<section id="io">
<h2>io<a class="headerlink" href="#io" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">io</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<section id="io-interaction">
<h3>io.interaction<a class="headerlink" href="#io-interaction" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="io.interaction">
<span class="sig-prename descclassname"><span class="pre">io.</span></span><span class="sig-name descname"><span class="pre">interaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server">
<span class="sig-prename descclassname"><span class="pre">io.interaction.</span></span><span class="sig-name descname"><span class="pre">server</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server.active">
<span class="sig-prename descclassname"><span class="pre">io.interaction.server.</span></span><span class="sig-name descname"><span class="pre">active</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Activation switch</p>
<p>Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> for no  ZeroMQ interaction server</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server.address">
<span class="sig-prename descclassname"><span class="pre">io.interaction.server.</span></span><span class="sig-name descname"><span class="pre">address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.address" title="Permalink to this definition">¶</a></dt>
<dd><p>The address the server is listening to.</p>
<p>Wenn running ptypy on a remote server, it is the servers network address.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'tcp://127.0.0.1'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server.port">
<span class="sig-prename descclassname"><span class="pre">io.interaction.server.</span></span><span class="sig-name descname"><span class="pre">port</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port the server is listening to.</p>
<p>Make sure to pick an unused port with a few unused ports close to it.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">5560</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server.connections">
<span class="sig-prename descclassname"><span class="pre">io.interaction.server.</span></span><span class="sig-name descname"><span class="pre">connections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of concurrent connections on the server</p>
<p>A range <code class="docutils literal notranslate"><span class="pre">[port</span> <span class="pre">:</span> <span class="pre">port+connections]</span></code> of ports adjacent <code class="xref py py-data docutils literal notranslate"><span class="pre">port</span></code>
will be opened on demand for connecting clients.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server.poll_timeout">
<span class="sig-prename descclassname"><span class="pre">io.interaction.server.</span></span><span class="sig-name descname"><span class="pre">poll_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.poll_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Network polling interval</p>
<p>Network polling interval, in milliseconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server.pinginterval">
<span class="sig-prename descclassname"><span class="pre">io.interaction.server.</span></span><span class="sig-name descname"><span class="pre">pinginterval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.pinginterval" title="Permalink to this definition">¶</a></dt>
<dd><p>Interval to check pings</p>
<p>Interval with which to check pings, in seconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.server.pingtimeout">
<span class="sig-prename descclassname"><span class="pre">io.interaction.server.</span></span><span class="sig-name descname"><span class="pre">pingtimeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.pingtimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Ping time out</p>
<p>Ping time out: client disconnected after this period, in seconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.client">
<span class="sig-prename descclassname"><span class="pre">io.interaction.</span></span><span class="sig-name descname"><span class="pre">client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.client.address">
<span class="sig-prename descclassname"><span class="pre">io.interaction.client.</span></span><span class="sig-name descname"><span class="pre">address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.address" title="Permalink to this definition">¶</a></dt>
<dd><p>The address the server is listening to.</p>
<p>Wenn running ptypy on a remote server, it is the servers network address.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'tcp://127.0.0.1'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.client.port">
<span class="sig-prename descclassname"><span class="pre">io.interaction.client.</span></span><span class="sig-name descname"><span class="pre">port</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port the server is listening to.</p>
<p>Make sure to pick an unused port with a few unused ports close to it.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">5560</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.client.poll_timeout">
<span class="sig-prename descclassname"><span class="pre">io.interaction.client.</span></span><span class="sig-name descname"><span class="pre">poll_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.poll_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Network polling interval</p>
<p>Network polling interval, in milliseconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.client.pinginterval">
<span class="sig-prename descclassname"><span class="pre">io.interaction.client.</span></span><span class="sig-name descname"><span class="pre">pinginterval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.pinginterval" title="Permalink to this definition">¶</a></dt>
<dd><p>Interval to check pings</p>
<p>Interval with which to check pings, in seconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="io.interaction.client.connection_timeout">
<span class="sig-prename descclassname"><span class="pre">io.interaction.client.</span></span><span class="sig-name descname"><span class="pre">connection_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.connection_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Timeout for dead server</p>
<p>Timeout for dead server, in milliseconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">3600000.0</span></code></p>
</dd></dl>

</section>
</section>
<section id="scandata">
<h2>scandata<a class="headerlink" href="#scandata" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">scandata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<section id="scandata-ptyscan">
<h3>scandata.PtyScan<a class="headerlink" href="#scandata-ptyscan" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan">
<span class="sig-prename descclassname"><span class="pre">scandata.</span></span><span class="sig-name descname"><span class="pre">PtyScan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.name">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'PtyScan'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.dfile">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">dfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.chunk_format">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">chunk_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.save">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.auto_center">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">auto_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.PtyScan.center" title="scandata.PtyScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.load_parallel">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">load_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.rebin">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;32)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.orientation">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.min_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">min_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.positions_theory">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">positions_theory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.num_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">num_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.label">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.experimentID">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">experimentID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.version">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.shape">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.center">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.psize">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">psize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.distance">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.energy">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtyScan.add_poisson_noise">
<span class="sig-prename descclassname"><span class="pre">scandata.PtyScan.</span></span><span class="sig-name descname"><span class="pre">add_poisson_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

</section>
<section id="scandata-ptydscan">
<h3>scandata.PtydScan<a class="headerlink" href="#scandata-ptydscan" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan">
<span class="sig-prename descclassname"><span class="pre">scandata.</span></span><span class="sig-name descname"><span class="pre">PtydScan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.name">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'PtydScan'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.dfile">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">dfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepared data file path</p>
<p>If source is <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'file'</span></code>, data will be loaded from this file and processing as
well as saving is deactivated. If source is the path to a file, data will be saved to this file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.chunk_format">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">chunk_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.save">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.auto_center">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">auto_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.PtydScan.center" title="scandata.PtydScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.load_parallel">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">load_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.rebin">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;32)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.orientation">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.min_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">min_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.positions_theory">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">positions_theory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.num_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">num_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.label">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.experimentID">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">experimentID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.version">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.shape">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.center">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.psize">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">psize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.distance">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.energy">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.add_poisson_noise">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">add_poisson_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.PtydScan.source">
<span class="sig-prename descclassname"><span class="pre">scandata.PtydScan.</span></span><span class="sig-name descname"><span class="pre">source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternate source file path if data is meant to be reprocessed.</p>
<p><cite>None</cite> for input shall be deprecated in future</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'file'</span></code></p>
</dd></dl>

</section>
<section id="scandata-moonflowerscan">
<h3>scandata.MoonFlowerScan<a class="headerlink" href="#scandata-moonflowerscan" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan">
<span class="sig-prename descclassname"><span class="pre">scandata.</span></span><span class="sig-name descname"><span class="pre">MoonFlowerScan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.name">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'MoonFlowerScan'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.dfile">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">dfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.chunk_format">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">chunk_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.save">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.auto_center">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">auto_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.MoonFlowerScan.center" title="scandata.MoonFlowerScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.load_parallel">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">load_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.rebin">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;32)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.orientation">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.min_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">min_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.positions_theory">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">positions_theory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.num_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">num_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames to simulate</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.label">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.experimentID">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">experimentID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.version">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.shape">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">128</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.center">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.psize">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">psize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.distance">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.energy">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.add_poisson_noise">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">add_poisson_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.density">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Position distance in fraction of illumination frame</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.2</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.model">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.model" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan pattern</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'round'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.photons">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">photons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of photons for Poisson noise</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100000000.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.psf">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">psf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.psf" title="Permalink to this definition">¶</a></dt>
<dd><p>Point spread function of the detector</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.MoonFlowerScan.block_wait_count">
<span class="sig-prename descclassname"><span class="pre">scandata.MoonFlowerScan.</span></span><span class="sig-name descname"><span class="pre">block_wait_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.block_wait_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Signals a WAIT to the model after this many blocks.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd></dl>

</section>
<section id="scandata-quickscan">
<h3>scandata.QuickScan<a class="headerlink" href="#scandata-quickscan" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan">
<span class="sig-prename descclassname"><span class="pre">scandata.</span></span><span class="sig-name descname"><span class="pre">QuickScan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.name">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'MoonFlowerScan'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.dfile">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">dfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.chunk_format">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">chunk_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.save">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.auto_center">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">auto_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.QuickScan.center" title="scandata.QuickScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.load_parallel">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">load_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.rebin">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;32)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.orientation">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.min_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">min_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.positions_theory">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">positions_theory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.num_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">num_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames to simulate</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.label">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.experimentID">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">experimentID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.version">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.shape">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">64</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.center">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.psize">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">psize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.distance">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.energy">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.add_poisson_noise">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">add_poisson_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.QuickScan.density">
<span class="sig-prename descclassname"><span class="pre">scandata.QuickScan.</span></span><span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Position distance in fraction of illumination frame</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span></code></p>
</dd></dl>

</section>
<section id="scandata-simscan">
<h3>scandata.SimScan<a class="headerlink" href="#scandata-simscan" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan">
<span class="sig-prename descclassname"><span class="pre">scandata.</span></span><span class="sig-name descname"><span class="pre">SimScan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Illumination parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.</span></span><span class="sig-name descname"><span class="pre">aperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture.rotate">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture.central_stop">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">central_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture.diffuser">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">diffuser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture.edge">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture.form">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture.offset">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.aperture.size">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.diversity">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.</span></span><span class="sig-name descname"><span class="pre">diversity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.diversity.noise">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in each non-primary mode of the illumination.</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.diversity.power">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.diversity.shift">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.model">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.photons">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.</span></span><span class="sig-name descname"><span class="pre">photons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.propagation">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.propagation.antialiasing">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">antialiasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.propagation.focussed">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">focussed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.propagation.parallel">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.propagation.spot_size">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">spot_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.recon">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.</span></span><span class="sig-name descname"><span class="pre">recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.recon.label">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.illumination.recon.rfile">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.model">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of initial object model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled <cite>fill</cite>
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from STXM analysis of diffraction data
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal model resource strings
- <em>&lt;template&gt;</em> : one of the templates in sample module
In script, you may pass a numpy.array here directly as the model. This array will be
processed according to <cite>process</cite> in order to <em>simulate</em> a sample from e.g. a thickness
profile.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.fill">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.</span></span><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Default fill value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.recon">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.</span></span><span class="sig-name descname"><span class="pre">recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.recon.rfile">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.recon.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.stxm">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.</span></span><span class="sig-name descname"><span class="pre">stxm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.stxm" title="Permalink to this definition">¶</a></dt>
<dd><p>STXM analysis parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.stxm.label">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.stxm.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.stxm.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p><code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Model processing parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, i.e. no processing</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process.offset">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.process.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of object array and scan pattern</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process.zoom">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.process.</span></span><span class="sig-name descname"><span class="pre">zoom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Zoom value for object simulation.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, leave the array untouched. Otherwise the modeled or loaded image will be
resized using <a class="reference internal" href="#scandata.SimScan.sample.process.zoom" title="scandata.SimScan.sample.process.zoom"><code class="xref py py-func docutils literal notranslate"><span class="pre">zoom()</span></code></a>.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process.formula">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.process.</span></span><span class="sig-name descname"><span class="pre">formula</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Chemical formula</p>
<p>A Formula compatible with a cxro database query,e.g. <code class="docutils literal notranslate"><span class="pre">'Au'</span></code> or <code class="docutils literal notranslate"><span class="pre">'NaCl'</span></code> or <code class="docutils literal notranslate"><span class="pre">'H2O'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process.density">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.process.</span></span><span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Density in [g/ccm]</p>
<p>Only used if <cite>formula</cite> is not None</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process.thickness">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.process.</span></span><span class="sig-name descname"><span class="pre">thickness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum thickness of sample</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the absolute values of loaded source array will be used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process.ref_index">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.process.</span></span><span class="sig-name descname"><span class="pre">ref_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.ref_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigned refractive index, tuple of format (real, complex)</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, treat source array as projection of refractive index a+bj for (a, b). If a refractive index
is provided the array’s absolute value will be used to scale the refractive index.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">0.0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.process.smoothing">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.process.</span></span><span class="sig-name descname"><span class="pre">smoothing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing scale</p>
<p>Smooth the projection with gaussian kernel of width given by <cite>smoothing_mfs</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.diversity">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.</span></span><span class="sig-name descname"><span class="pre">diversity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.diversity.noise">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the generated modes of the illumination</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.diversity.power">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.sample.diversity.shift">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">xy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.override">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">override</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.override" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.model">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.model" title="Permalink to this definition">¶</a></dt>
<dd><p>None, ‘round’, ‘raster’, ‘spiral’ or array-like</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.extent">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.extent" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.5e-05</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.spacing">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Step size (grid spacing)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.5e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.steps">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.steps" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.offset">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.offset" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.jitter">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">jitter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.jitter" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.xy.count">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.xy.</span></span><span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.count" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.name">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'SimScan'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.dfile">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">dfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.chunk_format">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">chunk_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.save">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.auto_center">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">auto_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.SimScan.center" title="scandata.SimScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.load_parallel">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">load_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.rebin">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;32)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.orientation">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.min_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">min_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.positions_theory">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">positions_theory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.num_frames">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">num_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.label">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.experimentID">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">experimentID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.version">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.shape">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.center">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.psize">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">psize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.distance">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.energy">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.add_poisson_noise">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">add_poisson_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.pos_noise">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">pos_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.pos_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Uniformly distributed noise in xy experimental positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-10</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.pos_scale">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">pos_scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.pos_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplifier for noise.</p>
<p>Will be extended to match number of positions. Maybe used to only put nois on individual points</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.pos_drift">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">pos_drift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.pos_drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Drift or offset paramter</p>
<p>Noise independent drift. Will be extended like pos_scale.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.detector">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.detector" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.frame_size">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">frame_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.frame_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Final frame size when saving</p>
<p>If None, no cropping/padding happens.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.psf">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">psf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.psf" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for gaussian convolution or convolution kernel after propagation</p>
<p>Use it for simulating partial coherence.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.verbose_level">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">verbose_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.verbose_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Verbose level when simulating</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.plot">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.plot" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scandata.SimScan.propagation">
<span class="sig-prename descclassname"><span class="pre">scandata.SimScan.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>farfield or nearfield</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

</section>
</section>
<section id="scan">
<h2>scan<a class="headerlink" href="#scan" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">scan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<section id="scan-scanmodel">
<h3>scan.ScanModel<a class="headerlink" href="#scan-scanmodel" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">ScanModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.tags">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.data">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.sample">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.ScanModel.resample">
<span class="sig-prename descclassname"><span class="pre">scan.ScanModel.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-blockscanmodel">
<h3>scan.BlockScanModel<a class="headerlink" href="#scan-blockscanmodel" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">BlockScanModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.tags">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.data">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.sample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockScanModel.resample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockScanModel.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockScanModel.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-vanilla">
<h3>scan.Vanilla<a class="headerlink" href="#scan-vanilla" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">Vanilla</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.name">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Vanilla'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.tags">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.data">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.illumination.size">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.illumination.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.illumination.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial probe size</p>
<p>The probe is initialized as a flat circle.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.sample">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.sample.fill">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.sample.</span></span><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial sample value</p>
<p>The sample is initialized with this value everywhere.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Vanilla.resample">
<span class="sig-prename descclassname"><span class="pre">scan.Vanilla.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-blockvanilla">
<h3>scan.BlockVanilla<a class="headerlink" href="#scan-blockvanilla" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">BlockVanilla</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Vanilla'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.tags">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.data">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.illumination.size">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.illumination.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.illumination.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial probe size</p>
<p>The probe is initialized as a flat circle.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.sample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.sample.fill">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.sample.</span></span><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial sample value</p>
<p>The sample is initialized with this value everywhere.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockVanilla.resample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockVanilla.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockVanilla.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-full">
<h3>scan.Full<a class="headerlink" href="#scan-full" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.Full">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">Full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.name">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Full'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.coherence">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">coherence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.coherence.num_probe_modes">
<span class="sig-prename descclassname"><span class="pre">scan.Full.coherence.</span></span><span class="sig-name descname"><span class="pre">num_probe_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.coherence.num_object_modes">
<span class="sig-prename descclassname"><span class="pre">scan.Full.coherence.</span></span><span class="sig-name descname"><span class="pre">num_object_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of object modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.coherence.energies">
<span class="sig-prename descclassname"><span class="pre">scan.Full.coherence.</span></span><span class="sig-name descname"><span class="pre">energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>?</p>
<p>?</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.coherence.spectrum">
<span class="sig-prename descclassname"><span class="pre">scan.Full.coherence.</span></span><span class="sig-name descname"><span class="pre">spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.coherence.object_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.Full.coherence.</span></span><span class="sig-name descname"><span class="pre">object_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the object</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.coherence.probe_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.Full.coherence.</span></span><span class="sig-name descname"><span class="pre">probe_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the probe</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.resolution">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Will force the reconstruction to adapt to the given resolution, this might lead to cropping/padding in diffraction space which could reduce performance.</p>
<p>Half-period resolution given in [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.tags">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.data">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.Full.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Illumination parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.</span></span><span class="sig-name descname"><span class="pre">aperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture.rotate">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture.central_stop">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">central_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture.diffuser">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">diffuser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture.edge">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture.form">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture.offset">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.aperture.size">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.diversity">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.</span></span><span class="sig-name descname"><span class="pre">diversity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.diversity.noise">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in each non-primary mode of the illumination.</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.diversity.power">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.diversity.shift">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.model">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.photons">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.</span></span><span class="sig-name descname"><span class="pre">photons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.propagation.antialiasing">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">antialiasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.propagation.focussed">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">focussed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.propagation.parallel">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.propagation.spot_size">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">spot_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.recon">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.</span></span><span class="sig-name descname"><span class="pre">recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.recon.label">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.illumination.recon.rfile">
<span class="sig-prename descclassname"><span class="pre">scan.Full.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.model">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of initial object model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled <cite>fill</cite>
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from STXM analysis of diffraction data
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal model resource strings
- <em>&lt;template&gt;</em> : one of the templates in sample module
In script, you may pass a numpy.array here directly as the model. This array will be
processed according to <cite>process</cite> in order to <em>simulate</em> a sample from e.g. a thickness
profile.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.fill">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.</span></span><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Default fill value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.recon">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.</span></span><span class="sig-name descname"><span class="pre">recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.recon.rfile">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.recon.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.stxm">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.</span></span><span class="sig-name descname"><span class="pre">stxm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.stxm" title="Permalink to this definition">¶</a></dt>
<dd><p>STXM analysis parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.stxm.label">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.stxm.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.stxm.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p><code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Model processing parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, i.e. no processing</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process.offset">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.process.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of object array and scan pattern</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process.zoom">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.process.</span></span><span class="sig-name descname"><span class="pre">zoom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Zoom value for object simulation.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, leave the array untouched. Otherwise the modeled or loaded image will be
resized using <a class="reference internal" href="#scan.Full.sample.process.zoom" title="scan.Full.sample.process.zoom"><code class="xref py py-func docutils literal notranslate"><span class="pre">zoom()</span></code></a>.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process.formula">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.process.</span></span><span class="sig-name descname"><span class="pre">formula</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Chemical formula</p>
<p>A Formula compatible with a cxro database query,e.g. <code class="docutils literal notranslate"><span class="pre">'Au'</span></code> or <code class="docutils literal notranslate"><span class="pre">'NaCl'</span></code> or <code class="docutils literal notranslate"><span class="pre">'H2O'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process.density">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.process.</span></span><span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Density in [g/ccm]</p>
<p>Only used if <cite>formula</cite> is not None</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process.thickness">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.process.</span></span><span class="sig-name descname"><span class="pre">thickness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum thickness of sample</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the absolute values of loaded source array will be used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process.ref_index">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.process.</span></span><span class="sig-name descname"><span class="pre">ref_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.ref_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigned refractive index, tuple of format (real, complex)</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, treat source array as projection of refractive index a+bj for (a, b). If a refractive index
is provided the array’s absolute value will be used to scale the refractive index.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">0.0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.process.smoothing">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.process.</span></span><span class="sig-name descname"><span class="pre">smoothing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing scale</p>
<p>Smooth the projection with gaussian kernel of width given by <cite>smoothing_mfs</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.diversity">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.</span></span><span class="sig-name descname"><span class="pre">diversity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.diversity.noise">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the generated modes of the illumination</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.diversity.power">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.sample.diversity.shift">
<span class="sig-prename descclassname"><span class="pre">scan.Full.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Full.resample">
<span class="sig-prename descclassname"><span class="pre">scan.Full.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-blockfull">
<h3>scan.BlockFull<a class="headerlink" href="#scan-blockfull" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">BlockFull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Full'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.coherence">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">coherence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.coherence.num_probe_modes">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.coherence.</span></span><span class="sig-name descname"><span class="pre">num_probe_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.coherence.num_object_modes">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.coherence.</span></span><span class="sig-name descname"><span class="pre">num_object_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of object modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.coherence.energies">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.coherence.</span></span><span class="sig-name descname"><span class="pre">energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.coherence.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>?</p>
<p>?</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.coherence.spectrum">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.coherence.</span></span><span class="sig-name descname"><span class="pre">spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.coherence.object_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.coherence.</span></span><span class="sig-name descname"><span class="pre">object_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the object</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.coherence.probe_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.coherence.</span></span><span class="sig-name descname"><span class="pre">probe_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the probe</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.resolution">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Will force the reconstruction to adapt to the given resolution, this might lead to cropping/padding in diffraction space which could reduce performance.</p>
<p>Half-period resolution given in [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.tags">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.data">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Illumination parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.</span></span><span class="sig-name descname"><span class="pre">aperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture.rotate">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture.central_stop">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">central_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture.diffuser">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">diffuser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture.edge">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture.form">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture.offset">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.aperture.size">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.diversity">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.</span></span><span class="sig-name descname"><span class="pre">diversity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.diversity.noise">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in each non-primary mode of the illumination.</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.diversity.power">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.diversity.shift">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.diversity.</span></span><span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.model">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.photons">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.</span></span><span class="sig-name descname"><span class="pre">photons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.propagation.antialiasing">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">antialiasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.propagation.focussed">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">focussed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.propagation.parallel">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.propagation.spot_size">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">spot_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.recon">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.</span></span><span class="sig-name descname"><span class="pre">recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.recon.label">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.illumination.recon.rfile">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.model">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of initial object model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled <cite>fill</cite>
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from STXM analysis of diffraction data
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal model resource strings
- <em>&lt;template&gt;</em> : one of the templates in sample module
In script, you may pass a numpy.array here directly as the model. This array will be
processed according to <cite>process</cite> in order to <em>simulate</em> a sample from e.g. a thickness
profile.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.fill">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.</span></span><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Default fill value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.recon">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.</span></span><span class="sig-name descname"><span class="pre">recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.recon.rfile">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.recon.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.stxm">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.</span></span><span class="sig-name descname"><span class="pre">stxm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.stxm" title="Permalink to this definition">¶</a></dt>
<dd><p>STXM analysis parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.stxm.label">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.stxm.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.stxm.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p><code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Model processing parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, i.e. no processing</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process.offset">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.process.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of object array and scan pattern</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process.zoom">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.process.</span></span><span class="sig-name descname"><span class="pre">zoom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Zoom value for object simulation.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, leave the array untouched. Otherwise the modeled or loaded image will be
resized using <a class="reference internal" href="#scan.BlockFull.sample.process.zoom" title="scan.BlockFull.sample.process.zoom"><code class="xref py py-func docutils literal notranslate"><span class="pre">zoom()</span></code></a>.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process.formula">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.process.</span></span><span class="sig-name descname"><span class="pre">formula</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process.formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Chemical formula</p>
<p>A Formula compatible with a cxro database query,e.g. <code class="docutils literal notranslate"><span class="pre">'Au'</span></code> or <code class="docutils literal notranslate"><span class="pre">'NaCl'</span></code> or <code class="docutils literal notranslate"><span class="pre">'H2O'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process.density">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.process.</span></span><span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Density in [g/ccm]</p>
<p>Only used if <cite>formula</cite> is not None</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process.thickness">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.process.</span></span><span class="sig-name descname"><span class="pre">thickness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process.thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum thickness of sample</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the absolute values of loaded source array will be used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process.ref_index">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.process.</span></span><span class="sig-name descname"><span class="pre">ref_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process.ref_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigned refractive index, tuple of format (real, complex)</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, treat source array as projection of refractive index a+bj for (a, b). If a refractive index
is provided the array’s absolute value will be used to scale the refractive index.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">0.0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.process.smoothing">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.process.</span></span><span class="sig-name descname"><span class="pre">smoothing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.process.smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing scale</p>
<p>Smooth the projection with gaussian kernel of width given by <cite>smoothing_mfs</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.diversity">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.</span></span><span class="sig-name descname"><span class="pre">diversity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.diversity.noise">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the generated modes of the illumination</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.diversity.power">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.sample.diversity.shift">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.sample.diversity.</span></span><span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.sample.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockFull.resample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockFull.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockFull.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-oprmodel">
<h3>scan.OPRModel<a class="headerlink" href="#scan-oprmodel" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">OPRModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.name">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Full'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.coherence">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">coherence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.coherence.num_probe_modes">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">num_probe_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.coherence.num_object_modes">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">num_object_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of object modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.coherence.energies">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.coherence.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>?</p>
<p>?</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.coherence.spectrum">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.coherence.object_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">object_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the object</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.coherence.probe_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">probe_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the probe</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.resolution">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Will force the reconstruction to adapt to the given resolution, this might lead to cropping/padding in diffraction space which could reduce performance.</p>
<p>Half-period resolution given in [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.tags">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.data">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.sample">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.OPRModel.resample">
<span class="sig-prename descclassname"><span class="pre">scan.OPRModel.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.OPRModel.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-blockoprmodel">
<h3>scan.BlockOPRModel<a class="headerlink" href="#scan-blockoprmodel" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">BlockOPRModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Full'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.coherence">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">coherence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.coherence.num_probe_modes">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">num_probe_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.coherence.num_object_modes">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">num_object_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of object modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.coherence.energies">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.coherence.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>?</p>
<p>?</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.coherence.spectrum">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.coherence.object_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">object_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the object</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.coherence.probe_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.coherence.</span></span><span class="sig-name descname"><span class="pre">probe_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the probe</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.resolution">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Will force the reconstruction to adapt to the given resolution, this might lead to cropping/padding in diffraction space which could reduce performance.</p>
<p>Half-period resolution given in [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.tags">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.data">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.sample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockOPRModel.resample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockOPRModel.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockOPRModel.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-gradfull">
<h3>scan.GradFull<a class="headerlink" href="#scan-gradfull" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">GradFull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.name">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Full'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.coherence">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">coherence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.coherence.num_probe_modes">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">num_probe_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.coherence.num_object_modes">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">num_object_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of object modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.coherence.energies">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.coherence.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>?</p>
<p>?</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.coherence.spectrum">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.coherence.object_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">object_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the object</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.coherence.probe_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">probe_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the probe</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.resolution">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Will force the reconstruction to adapt to the given resolution, this might lead to cropping/padding in diffraction space which could reduce performance.</p>
<p>Half-period resolution given in [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.tags">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.data">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.sample">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.GradFull.resample">
<span class="sig-prename descclassname"><span class="pre">scan.GradFull.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.GradFull.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-blockgradfull">
<h3>scan.BlockGradFull<a class="headerlink" href="#scan-blockgradfull" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">BlockGradFull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Full'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.coherence">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">coherence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.coherence.num_probe_modes">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">num_probe_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.coherence.num_object_modes">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">num_object_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of object modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.coherence.energies">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.coherence.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>?</p>
<p>?</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.coherence.spectrum">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.coherence.object_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">object_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the object</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.coherence.probe_dispersion">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.coherence.</span></span><span class="sig-name descname"><span class="pre">probe_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the probe</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.resolution">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Will force the reconstruction to adapt to the given resolution, this might lead to cropping/padding in diffraction space which could reduce performance.</p>
<p>Half-period resolution given in [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.tags">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.data">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.sample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.BlockGradFull.resample">
<span class="sig-prename descclassname"><span class="pre">scan.BlockGradFull.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.BlockGradFull.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling fraction of the image frames w.r.t. diffraction frames</p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
<section id="scan-bragg3dmodel">
<h3>scan.Bragg3dModel<a class="headerlink" href="#scan-bragg3dmodel" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel">
<span class="sig-prename descclassname"><span class="pre">scan.</span></span><span class="sig-name descname"><span class="pre">Bragg3dModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">illumination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.</span></span><span class="sig-name descname"><span class="pre">aperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture.rotate">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture.central_stop">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">central_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture.diffuser">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">diffuser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture.edge">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture.form">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture.offset">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.aperture.size">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.aperture.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.model">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.photons">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.</span></span><span class="sig-name descname"><span class="pre">photons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.propagation.antialiasing">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">antialiasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.propagation.focussed">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">focussed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.propagation.parallel">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.propagation.spot_size">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.propagation.</span></span><span class="sig-name descname"><span class="pre">spot_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.recon">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.</span></span><span class="sig-name descname"><span class="pre">recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.recon.label">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.recon.rfile">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.recon.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.illumination.size">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.illumination.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial probe size</p>
<p>The probe is initialized as a flat circle.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.name">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Bragg3dModel'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.tags">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.propagation">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">propagation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.ffttype">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">ffttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.ffttype" title="Permalink to this definition">¶</a></dt>
<dd><p>FFT library</p>
<p>Choose from “numpy”, “scipy” or “fftw”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'scipy'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.data">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scandata.PtyScan" title="scandata.PtyScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.PtyScan</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.data.name">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.data.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.sample">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.sample.fill">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.sample.</span></span><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial sample value</p>
<p>The sample is initialized with this value everywhere.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scan.Bragg3dModel.resample">
<span class="sig-prename descclassname"><span class="pre">scan.Bragg3dModel.</span></span><span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Diffraction resampling <em>CURRENTLY NOT SUPPORTED FOR BRAGG CASE</em></p>
<p>A resampling of 2 means that the image frame is to be sampled (in the detector plane) twice
as densely as the raw diffraction data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

</section>
</section>
<section id="engine">
<h2>engine<a class="headerlink" href="#engine" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<section id="engine-dm">
<h3>engine.DM<a class="headerlink" href="#engine-dm" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="engine.DM">
<span class="sig-prename descclassname"><span class="pre">engine.</span></span><span class="sig-name descname"><span class="pre">DM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.numiter">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">numiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p>For on-the-fly (live) processing, the reconstruction engine will iterate at least this many times after all data has been loaded.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.numiter_contiguous">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">numiter_contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.probe_support">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">probe_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.probe_fourier_support">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">probe_fourier_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_fourier_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area in frequency domain as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame (in frequency domain), in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.record_local_error">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">record_local_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.record_local_error" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, save the local map of errors into the runtime dictionary.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">position_refinement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.method">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Annealing or GridSearch</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Annealing'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.start">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p>If None, position refinement starts at first iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.stop">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.interval">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.nshifts">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">nshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.amplitude">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.amplitude_decay">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude_decay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.amplitude_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>After each interation, multiply amplitude by factor (stop - iteration) / (stop - start)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.max_shift">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">max_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.metric">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Error metric, can choose between “fourier” and “photon”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fourier'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.position_refinement.record">
<span class="sig-prename descclassname"><span class="pre">engine.DM.position_refinement.</span></span><span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.probe_update_start">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">probe_update_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.subpix_start">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">subpix_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.subpix_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before starting subpixel interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.subpix">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">subpix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.subpix" title="Permalink to this definition">¶</a></dt>
<dd><p>Subpixel interpolation; ‘fourier’,’linear’ or None for no interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'linear'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.update_object_first">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">update_object_first</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.update_object_first" title="Permalink to this definition">¶</a></dt>
<dd><p>If True update object before probe</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.overlap_converge_factor">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">overlap_converge_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.overlap_converge_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold for interruption of the inner overlap loop</p>
<p>The inner overlap loop refines the probe and the object simultaneously. This loop is escaped as soon as the overall change in probe, relative to the first iteration, is less than this value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.overlap_max_iterations">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">overlap_max_iterations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.overlap_max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of iterations for the overlap constraint inner loop</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.probe_inertia">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">probe_inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current probe estimate in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-09</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.object_inertia">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">object_inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.object_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current object in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0001</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.fourier_power_bound">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">fourier_power_bound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.fourier_power_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>If rms error of model vs diffraction data is smaller than this value, Fourier constraint is met</p>
<p>For Poisson-sampled data, the theoretical value for this parameter is 1/4. Set this value higher for noisy data. By default, power bound is calculated using fourier_relax_factor</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.fourier_relax_factor">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">fourier_relax_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.fourier_relax_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>A factor used to calculate the Fourier power bound as 0.25 * fourier_relax_factor**2 * maximum power in diffraction data</p>
<p>Set this value higher for noisy data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.obj_smooth_std">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">obj_smooth_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.obj_smooth_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian smoothing (pixel) of the current object prior to update</p>
<p>If None, smoothing is deactivated. This smoothing can be used to reduce the amplitude of spurious pixels in the outer, least constrained areas of the object.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.clip_object">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">clip_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.clip_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip object amplitude into this interval</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.probe_center_tol">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">probe_center_tol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.compute_log_likelihood">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">compute_log_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.compute_log_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>A switch for computing the log-likelihood error (this can impact the performance of the engine)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.alpha">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">alpha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Mix parameter between Difference Map (alpha=1.) and Alternating Projections (alpha=0.)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM.name">
<span class="sig-prename descclassname"><span class="pre">engine.DM.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'DM'</span></code></p>
</dd></dl>

</section>
<section id="engine-raar">
<h3>engine.RAAR<a class="headerlink" href="#engine-raar" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR">
<span class="sig-prename descclassname"><span class="pre">engine.</span></span><span class="sig-name descname"><span class="pre">RAAR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.numiter">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">numiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p>For on-the-fly (live) processing, the reconstruction engine will iterate at least this many times after all data has been loaded.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.numiter_contiguous">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">numiter_contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.probe_support">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">probe_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.probe_fourier_support">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">probe_fourier_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.probe_fourier_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area in frequency domain as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame (in frequency domain), in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.record_local_error">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">record_local_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.record_local_error" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, save the local map of errors into the runtime dictionary.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">position_refinement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.method">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Annealing or GridSearch</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Annealing'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.start">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p>If None, position refinement starts at first iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.stop">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.interval">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.nshifts">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">nshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.amplitude">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.amplitude_decay">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude_decay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.amplitude_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>After each interation, multiply amplitude by factor (stop - iteration) / (stop - start)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.max_shift">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">max_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.metric">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Error metric, can choose between “fourier” and “photon”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fourier'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.position_refinement.record">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.probe_update_start">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">probe_update_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.subpix_start">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">subpix_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.subpix_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before starting subpixel interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.subpix">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">subpix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.subpix" title="Permalink to this definition">¶</a></dt>
<dd><p>Subpixel interpolation; ‘fourier’,’linear’ or None for no interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'linear'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.update_object_first">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">update_object_first</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.update_object_first" title="Permalink to this definition">¶</a></dt>
<dd><p>If True update object before probe</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.overlap_converge_factor">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">overlap_converge_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.overlap_converge_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold for interruption of the inner overlap loop</p>
<p>The inner overlap loop refines the probe and the object simultaneously. This loop is escaped as soon as the overall change in probe, relative to the first iteration, is less than this value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.overlap_max_iterations">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">overlap_max_iterations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.overlap_max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of iterations for the overlap constraint inner loop</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.probe_inertia">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">probe_inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.probe_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current probe estimate in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-09</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.object_inertia">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">object_inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.object_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current object in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0001</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.fourier_power_bound">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">fourier_power_bound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.fourier_power_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>If rms error of model vs diffraction data is smaller than this value, Fourier constraint is met</p>
<p>For Poisson-sampled data, the theoretical value for this parameter is 1/4. Set this value higher for noisy data. By default, power bound is calculated using fourier_relax_factor</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.fourier_relax_factor">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">fourier_relax_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.fourier_relax_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>A factor used to calculate the Fourier power bound as 0.25 * fourier_relax_factor**2 * maximum power in diffraction data</p>
<p>Set this value higher for noisy data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.obj_smooth_std">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">obj_smooth_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.obj_smooth_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian smoothing (pixel) of the current object prior to update</p>
<p>If None, smoothing is deactivated. This smoothing can be used to reduce the amplitude of spurious pixels in the outer, least constrained areas of the object.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.clip_object">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">clip_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.clip_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip object amplitude into this interval</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.probe_center_tol">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">probe_center_tol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.compute_log_likelihood">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">compute_log_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.compute_log_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>A switch for computing the log-likelihood error (this can impact the performance of the engine)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.beta">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">beta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Beta parameter for RAAR algorithm</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.75</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.RAAR.name">
<span class="sig-prename descclassname"><span class="pre">engine.RAAR.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.RAAR.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'RAAR'</span></code></p>
</dd></dl>

</section>
<section id="engine-epie">
<h3>engine.EPIE<a class="headerlink" href="#engine-epie" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE">
<span class="sig-prename descclassname"><span class="pre">engine.</span></span><span class="sig-name descname"><span class="pre">EPIE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.numiter">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">numiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p>For on-the-fly (live) processing, the reconstruction engine will iterate at least this many times after all data has been loaded.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.numiter_contiguous">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">numiter_contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.probe_support">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">probe_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.probe_fourier_support">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">probe_fourier_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.probe_fourier_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area in frequency domain as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame (in frequency domain), in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.record_local_error">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">record_local_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.record_local_error" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, save the local map of errors into the runtime dictionary.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">position_refinement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.method">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Annealing or GridSearch</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Annealing'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.start">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p>If None, position refinement starts at first iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.stop">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.interval">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.nshifts">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">nshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.amplitude">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.amplitude_decay">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude_decay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.amplitude_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>After each interation, multiply amplitude by factor (stop - iteration) / (stop - start)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.max_shift">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">max_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.metric">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Error metric, can choose between “fourier” and “photon”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fourier'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.position_refinement.record">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.position_refinement.</span></span><span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.probe_update_start">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">probe_update_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.probe_center_tol">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">probe_center_tol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.compute_log_likelihood">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">compute_log_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.compute_log_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>A switch for computing the log-likelihood error (this can impact the performance of the engine)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.alpha">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">alpha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter for adjusting the step size of the object update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.beta">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">beta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter for adjusting the step size of the probe update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.object_norm_is_global">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">object_norm_is_global</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.object_norm_is_global" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the object norm based on the global object instead of the local object</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.EPIE.name">
<span class="sig-prename descclassname"><span class="pre">engine.EPIE.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.EPIE.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'EPIE'</span></code></p>
</dd></dl>

</section>
<section id="engine-sdr">
<h3>engine.SDR<a class="headerlink" href="#engine-sdr" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR">
<span class="sig-prename descclassname"><span class="pre">engine.</span></span><span class="sig-name descname"><span class="pre">SDR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.numiter">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">numiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p>For on-the-fly (live) processing, the reconstruction engine will iterate at least this many times after all data has been loaded.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.numiter_contiguous">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">numiter_contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.probe_support">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">probe_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.probe_fourier_support">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">probe_fourier_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.probe_fourier_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area in frequency domain as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame (in frequency domain), in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.record_local_error">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">record_local_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.record_local_error" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, save the local map of errors into the runtime dictionary.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">position_refinement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.method">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Annealing or GridSearch</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Annealing'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.start">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p>If None, position refinement starts at first iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.stop">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.interval">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.nshifts">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">nshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.amplitude">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.amplitude_decay">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude_decay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.amplitude_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>After each interation, multiply amplitude by factor (stop - iteration) / (stop - start)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.max_shift">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">max_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.metric">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Error metric, can choose between “fourier” and “photon”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fourier'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.position_refinement.record">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.position_refinement.</span></span><span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.probe_update_start">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">probe_update_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.probe_center_tol">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">probe_center_tol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.compute_log_likelihood">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">compute_log_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.compute_log_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>A switch for computing the log-likelihood error (this can impact the performance of the engine)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.sigma">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Relaxed Fourier reflection parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.tau">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">tau</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.tau" title="Permalink to this definition">¶</a></dt>
<dd><p>Relaxed modulus constraint parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.beta_probe">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">beta_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.beta_probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter for adjusting the step size of the probe update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.beta_object">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">beta_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.beta_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter for adjusting the step size of the object update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.9</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.SDR.name">
<span class="sig-prename descclassname"><span class="pre">engine.SDR.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.SDR.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'SDR'</span></code></p>
</dd></dl>

</section>
<section id="engine-ml">
<h3>engine.ML<a class="headerlink" href="#engine-ml" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="engine.ML">
<span class="sig-prename descclassname"><span class="pre">engine.</span></span><span class="sig-name descname"><span class="pre">ML</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.numiter">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">numiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p>For on-the-fly (live) processing, the reconstruction engine will iterate at least this many times after all data has been loaded.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.numiter_contiguous">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">numiter_contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.probe_support">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">probe_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.probe_fourier_support">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">probe_fourier_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.probe_fourier_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area in frequency domain as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame (in frequency domain), in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.record_local_error">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">record_local_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.record_local_error" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, save the local map of errors into the runtime dictionary.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">position_refinement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.method">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Annealing or GridSearch</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Annealing'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.start">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p>If None, position refinement starts at first iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.stop">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.interval">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.nshifts">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">nshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.amplitude">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.amplitude_decay">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude_decay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.amplitude_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>After each interation, multiply amplitude by factor (stop - iteration) / (stop - start)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.max_shift">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">max_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.metric">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Error metric, can choose between “fourier” and “photon”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fourier'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.position_refinement.record">
<span class="sig-prename descclassname"><span class="pre">engine.ML.position_refinement.</span></span><span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.name">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'ML'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.ML_type">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">ML_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.ML_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Likelihood model</p>
<p>One of ‘gaussian’, poisson’ or ‘euclid’.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'gaussian'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.floating_intensities">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">floating_intensities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.floating_intensities" title="Permalink to this definition">¶</a></dt>
<dd><p>Adaptive diffraction pattern rescaling</p>
<p>If True, allow for adaptative rescaling of the diffraction pattern intensities (to correct for incident beam intensity fluctuations).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.intensity_renormalization">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">intensity_renormalization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.intensity_renormalization" title="Permalink to this definition">¶</a></dt>
<dd><p>Rescales the intensities so they can be interpreted as Poisson counts.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.reg_del2">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">reg_del2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.reg_del2" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to use a Gaussian prior (smoothing) regularizer</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.reg_del2_amplitude">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">reg_del2_amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.reg_del2_amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of the Gaussian prior if used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.01</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.smooth_gradient">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">smooth_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.smooth_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing preconditioner</p>
<p>Sigma for gaussian filter (turned off if 0.)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.smooth_gradient_decay">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">smooth_gradient_decay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.smooth_gradient_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>Decay rate for smoothing preconditioner</p>
<p>Sigma for gaussian filter will reduce exponentially at this rate</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.scale_precond">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">scale_precond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.scale_precond" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to use the object/probe scaling preconditioner</p>
<p>This parameter can give faster convergence for weakly scattering samples.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.scale_probe_object">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">scale_probe_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.scale_probe_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Relative scale of probe to object</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.probe_update_start">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">probe_update_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.ML.poly_line_coeffs">
<span class="sig-prename descclassname"><span class="pre">engine.ML.</span></span><span class="sig-name descname"><span class="pre">poly_line_coeffs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.poly_line_coeffs" title="Permalink to this definition">¶</a></dt>
<dd><p>How many coefficients to be used in the the linesearch</p>
<p>choose between the ‘quadratic’ approximation (default) or ‘all’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'quadratic'</span></code></p>
</dd></dl>

</section>
<section id="engine-dm-3dbragg">
<h3>engine.DM_3dBragg<a class="headerlink" href="#engine-dm-3dbragg" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg">
<span class="sig-prename descclassname"><span class="pre">engine.</span></span><span class="sig-name descname"><span class="pre">DM_3dBragg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.numiter">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">numiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p>For on-the-fly (live) processing, the reconstruction engine will iterate at least this many times after all data has been loaded.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.numiter_contiguous">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">numiter_contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.probe_support">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">probe_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.probe_fourier_support">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">probe_fourier_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_fourier_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area in frequency domain as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame (in frequency domain), in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.record_local_error">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">record_local_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.record_local_error" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, save the local map of errors into the runtime dictionary.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">position_refinement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.method">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Annealing or GridSearch</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Annealing'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.start">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p>If None, position refinement starts at first iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.stop">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.interval">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.nshifts">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">nshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.amplitude">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.amplitude_decay">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">amplitude_decay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.amplitude_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>After each interation, multiply amplitude by factor (stop - iteration) / (stop - start)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.max_shift">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">max_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-06</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.metric">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Error metric, can choose between “fourier” and “photon”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fourier'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.position_refinement.record">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.position_refinement.</span></span><span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.probe_update_start">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">probe_update_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.subpix_start">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">subpix_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.subpix_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before starting subpixel interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.subpix">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">subpix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.subpix" title="Permalink to this definition">¶</a></dt>
<dd><p>Subpixel interpolation; ‘fourier’,’linear’ or None for no interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'linear'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.update_object_first">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">update_object_first</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.update_object_first" title="Permalink to this definition">¶</a></dt>
<dd><p>If True update object before probe</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.overlap_converge_factor">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">overlap_converge_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.overlap_converge_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold for interruption of the inner overlap loop</p>
<p>The inner overlap loop refines the probe and the object simultaneously. This loop is escaped as soon as the overall change in probe, relative to the first iteration, is less than this value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.overlap_max_iterations">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">overlap_max_iterations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.overlap_max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of iterations for the overlap constraint inner loop</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.probe_inertia">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">probe_inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current probe estimate in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-09</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.object_inertia">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">object_inertia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.object_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current object in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0001</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.fourier_power_bound">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">fourier_power_bound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.fourier_power_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>If rms error of model vs diffraction data is smaller than this value, Fourier constraint is met</p>
<p>For Poisson-sampled data, the theoretical value for this parameter is 1/4. Set this value higher for noisy data. By default, power bound is calculated using fourier_relax_factor</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.fourier_relax_factor">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">fourier_relax_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.fourier_relax_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>A factor used to calculate the Fourier power bound as 0.25 * fourier_relax_factor**2 * maximum power in diffraction data</p>
<p>Set this value higher for noisy data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.obj_smooth_std">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">obj_smooth_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.obj_smooth_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian smoothing (pixel) of the current object prior to update</p>
<p>If None, smoothing is deactivated. This smoothing can be used to reduce the amplitude of spurious pixels in the outer, least constrained areas of the object.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.clip_object">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">clip_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.clip_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip object amplitude into this interval</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.probe_center_tol">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">probe_center_tol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.compute_log_likelihood">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">compute_log_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.compute_log_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>A switch for computing the log-likelihood error (this can impact the performance of the engine)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.alpha">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">alpha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Mix parameter between Difference Map (alpha=1.) and Alternating Projections (alpha=0.)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.name">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'DM_3dBragg'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.</span></span><span class="sig-name descname"><span class="pre">sample_support</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample support settings</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.type">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.</span></span><span class="sig-name descname"><span class="pre">type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample support geometry</p>
<p>Options are ‘thinlayer’ for one-dimensional support as
function of z, ‘rod’ for one-dimensional radial support around
the z axis.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'thinlayer'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.size">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Support thickness or radius</p>
<p>This parameter is ignored when shrink wrapping is used.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-07</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.coefficient">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.</span></span><span class="sig-name descname"><span class="pre">coefficient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Scaling of region outside the support</p>
<p>Sample amplitude is multiplied by this value outside the support region</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.shrinkwrap">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.</span></span><span class="sig-name descname"><span class="pre">shrinkwrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrink wrap settings. None for no shrink wrap.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.shrinkwrap.smooth">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.shrinkwrap.</span></span><span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrink wrap smoothing parameter in pixels</p>
<p>Sigma of gaussian with which to smooth object profile before applying shrink wrap. Pass None for no smoothing. Values &lt; .3 make little sense.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.3)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.shrinkwrap.cutoff">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.shrinkwrap.</span></span><span class="sig-name descname"><span class="pre">cutoff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrink wrap cutoff parameter</p>
<p>The support is truncated where the object profile has decayed to this value relative to the maximum.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.5</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.shrinkwrap.monotonic">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.shrinkwrap.</span></span><span class="sig-name descname"><span class="pre">monotonic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.monotonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Require the object profile to be monotonic</p>
<p>If the object profile increases again after the maximum, then the support is cut off. Set the cutoff parameter low to make this the dominating criterion.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.shrinkwrap.start">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.shrinkwrap.</span></span><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start shrink wrap after this iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="engine.DM_3dBragg.sample_support.shrinkwrap.plot">
<span class="sig-prename descclassname"><span class="pre">engine.DM_3dBragg.sample_support.shrinkwrap.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass shrink wrap information to the plot client</p>
<p>Puts shrink wrap information in the runtime dict. The plot client can choose to plot it if it likes.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

</section>
</section>
<section id="ptycho">
<h2>ptycho<a class="headerlink" href="#ptycho" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">ptycho</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.verbose_level">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">verbose_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.verbose_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Verbosity level</p>
<p>Verbosity level for information logging.
- <code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code>: Only critical errors
- <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>:    All errors
- <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>:  Warning
- <code class="docutils literal notranslate"><span class="pre">INFO</span></code>:     Process Information
- <code class="docutils literal notranslate"><span class="pre">INSPECT</span></code>:  Object Information
- <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>:    Debug</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'ERROR'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.data_type">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">data_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruction floating number precision</p>
<p>Reconstruction floating number precision (<code class="docutils literal notranslate"><span class="pre">'single'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'double'</span></code>)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'single'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.run">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruction identifier</p>
<p>Reconstruction run identifier. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the run name will
be constructed at run time from other information.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.frames_per_block">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">frames_per_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.frames_per_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Max number of frames per block of data</p>
<p>This parameter determines the size of buffer arrays for GPUs.
Reduce this number if you run out of memory on the GPU.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100000</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.min_frames_for_recon">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">min_frames_for_recon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.min_frames_for_recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames to be loaded before reconstruction can start.</p>
<p>For on-the-fly (live) processing, the first reconstruction engine will wait until this many frames have been loaded.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.dry_run">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">dry_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.dry_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Dry run switch</p>
<p>Run everything skipping all memory and cpu-heavy steps (and
file saving). <strong>NOT IMPLEMENTED</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.ipython_kernel">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">ipython_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.ipython_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Start an ipython kernel for debugging</p>
<p>Start an ipython kernel for debugging.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<section id="ptycho-io">
<h3>ptycho.io<a class="headerlink" href="#ptycho-io" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">io</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io" title="Permalink to this definition">¶</a></dt>
<dd><p>Global parameters for I/O</p>
<p>Global parameter container for I/O settings.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.home">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.</span></span><span class="sig-name descname"><span class="pre">home</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.home" title="Permalink to this definition">¶</a></dt>
<dd><p>Base directory for all I/O</p>
<p>home is the root directory for all input/output operations. All other path parameters that
are relative paths will be relative to this directory.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.rfile">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruction file name (or format string)</p>
<p>Reconstruction file name or format string (constructed against runtime dictionary)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'recons/%(run)s/%(run)s_%(engine)s_%(iterations)04d.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.rformat">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.</span></span><span class="sig-name descname"><span class="pre">rformat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.rformat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruction file format</p>
<p>Choose a reconstruction file format for after engine completion.
- <code class="docutils literal notranslate"><span class="pre">'minimal'</span></code>: Bare minimum of information
- <code class="docutils literal notranslate"><span class="pre">'dls'</span></code>:    Custom format for Diamond Light Source
- <code class="docutils literal notranslate"><span class="pre">'used_params'</span></code>: Same as minimal but including all used parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'minimal'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.interaction">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.</span></span><span class="sig-name descname"><span class="pre">interaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction" title="Permalink to this definition">¶</a></dt>
<dd><p>ZeroMQ interactor options</p>
<p>Options for the communications server</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.interaction.active">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.interaction.</span></span><span class="sig-name descname"><span class="pre">active</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction.active" title="Permalink to this definition">¶</a></dt>
<dd><p>turns on the interaction</p>
<p>If True the interaction starts, if False all interaction is turned off</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.interaction.server">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.interaction.</span></span><span class="sig-name descname"><span class="pre">server</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction.server" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to server parameter tree</p>
<p><em>default</em> = <a class="reference internal" href="#io.interaction.server" title="io.interaction.server"><code class="xref py py-data docutils literal notranslate"><span class="pre">io.interaction.server</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.interaction.client">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.interaction.</span></span><span class="sig-name descname"><span class="pre">client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction.client" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to client parameter tree</p>
<p><em>default</em> = <a class="reference internal" href="#io.interaction.client" title="io.interaction.client"><code class="xref py py-data docutils literal notranslate"><span class="pre">io.interaction.client</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autosave">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.</span></span><span class="sig-name descname"><span class="pre">autosave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-save options</p>
<p>Options for automatic saving during reconstruction.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autosave.active">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autosave.</span></span><span class="sig-name descname"><span class="pre">active</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Activation switch</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> the current reconstruction will be saved at regular intervals.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autosave.interval">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autosave.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-save interval</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&gt;0</span></code> the current reconstruction will be saved at regular intervals according to the</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;-1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autosave.rfile">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autosave.</span></span><span class="sig-name descname"><span class="pre">rfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-save file name (or format string)</p>
<p>Auto-save file name or format string (constructed against runtime dictionary)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'dumps/%(run)s/%(run)s_%(engine)s_%(iterations)04d.ptyr'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.</span></span><span class="sig-name descname"><span class="pre">autoplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotting client parameters</p>
<p>Container for the plotting.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot.active">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autoplot.</span></span><span class="sig-name descname"><span class="pre">active</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Activation switch</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> the current reconstruction will be plotted at regular intervals.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot.imfile">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autoplot.</span></span><span class="sig-name descname"><span class="pre">imfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.imfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot images file name (or format string)</p>
<p>Plot images file name (or format string).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'plots/%(run)s/%(run)s_%(engine)s_%(iterations)04d.png'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot.interval">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autoplot.</span></span><span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations between plot updates</p>
<p>Requests to the server will happen with this iteration intervals. Note that this will work
only if interaction.polling_interval is smaller or equal to this number. If <code class="docutils literal notranslate"><span class="pre">interval</span>
<span class="pre">=0</span></code> plotting is disabled which should be used, when ptypy is run on a cluster.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;-1)</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot.threaded">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autoplot.</span></span><span class="sig-name descname"><span class="pre">threaded</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.threaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Live plotting switch</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, a plotting client will be spawned in a new thread and connected at
initialization. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the master node will carry out the plotting, pausing the
reconstruction. This option should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> when ptypy is run on an isolated
workstation.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot.layout">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autoplot.</span></span><span class="sig-name descname"><span class="pre">layout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for default plotter or template name</p>
<p>Flexible layout for default plotter is not implemented yet. Please choose one of the
templates <code class="docutils literal notranslate"><span class="pre">'default'</span></code>,``’black_and_white’<code class="docutils literal notranslate"><span class="pre">,</span></code>’nearfield’<code class="docutils literal notranslate"><span class="pre">,</span> <span class="pre">``'minimal'</span></code> or <code class="docutils literal notranslate"><span class="pre">'weak'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'default'</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot.dump">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autoplot.</span></span><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to dump plots as image files</p>
<p>Switch to dump plots as image files during reconstruction.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.autoplot.make_movie">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.autoplot.</span></span><span class="sig-name descname"><span class="pre">make_movie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.make_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce reconstruction movie after the reconstruction.</p>
<p>Switch to request the production of a movie from the dumped plots at the end of the
reconstruction.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.io.benchmark">
<span class="sig-prename descclassname"><span class="pre">ptycho.io.</span></span><span class="sig-name descname"><span class="pre">benchmark</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce timings for benchmarking the performance of data loaders and engines</p>
<p>Switch to get timings and save results to a json file in p.io.home
Choose <code class="docutils literal notranslate"><span class="pre">'all'</span></code> for timing data loading, engine_init, engine_prepare, engine_iterate and engine_finalize</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

</section>
<section id="ptycho-scans">
<h3>ptycho.scans<a class="headerlink" href="#ptycho-scans" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="ptycho.scans">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">scans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.scans" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for instances of scan parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.scans.scan_00">
<span class="sig-prename descclassname"><span class="pre">ptycho.scans.</span></span><span class="sig-name descname"><span class="pre">scan_00</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.scans.scan_00" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Wildcard</em>: multiple entries with arbitrary names are accepted.</p>
<p>Wildcard entry for list of scans to load. See <a class="reference internal" href="#id2" title="scan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scan</span></code></a></p>
<p><em>default</em> = <a class="reference internal" href="#scan.ScanModel" title="scan.ScanModel"><code class="xref py py-data docutils literal notranslate"><span class="pre">scan.ScanModel</span></code></a></p>
</dd></dl>

</section>
<section id="ptycho-engines">
<h3>ptycho.engines<a class="headerlink" href="#ptycho-engines" title="Permalink to this headline">¶</a></h3>
<dl class="py data">
<dt class="sig sig-object py" id="ptycho.engines">
<span class="sig-prename descclassname"><span class="pre">ptycho.</span></span><span class="sig-name descname"><span class="pre">engines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.engines" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for instances of engine parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ptycho.engines.engine_00">
<span class="sig-prename descclassname"><span class="pre">ptycho.engines.</span></span><span class="sig-name descname"><span class="pre">engine_00</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.engines.engine_00" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Wildcard</em>: multiple entries with arbitrary names are accepted.</p>
<p>Wildcard entry for list of engines to run. See <a class="reference internal" href="#id3" title="engine"><code class="xref py py-data docutils literal notranslate"><span class="pre">engine</span></code></a></p>
<p>The value of engines.*.name is used to choose among the available engines.</p>
<p><em>default</em> = <a class="reference internal" href="#engine.DM" title="engine.DM"><code class="xref py py-data docutils literal notranslate"><span class="pre">engine.DM</span></code></a></p>
</dd></dl>

</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../content.html">
              <img class="logo" src="../_static/logo_100px.png" alt="Logo"/>
            </a></p>
<h3><a href="../content.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started with Ptypy</a></li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concepts and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_management.html">Data management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parameter tree structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#io">io</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#io-interaction">io.interaction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scandata">scandata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scandata-ptyscan">scandata.PtyScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-ptydscan">scandata.PtydScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-moonflowerscan">scandata.MoonFlowerScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-quickscan">scandata.QuickScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-simscan">scandata.SimScan</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scan">scan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scan-scanmodel">scan.ScanModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-blockscanmodel">scan.BlockScanModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-vanilla">scan.Vanilla</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-blockvanilla">scan.BlockVanilla</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-full">scan.Full</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-blockfull">scan.BlockFull</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-oprmodel">scan.OPRModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-blockoprmodel">scan.BlockOPRModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-gradfull">scan.GradFull</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-blockgradfull">scan.BlockGradFull</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-bragg3dmodel">scan.Bragg3dModel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#engine">engine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#engine-dm">engine.DM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-raar">engine.RAAR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-epie">engine.EPIE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-sdr">engine.SDR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-ml">engine.ML</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-dm-3dbragg">engine.DM_3dBragg</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ptycho">ptycho</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ptycho-io">ptycho.io</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ptycho-scans">ptycho.scans</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ptycho-engines">ptycho.engines</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ptypy.html">ptypy package</a></li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="data_management.html"
                          title="previous chapter">Data management</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="ptypy.html"
                          title="next chapter">ptypy package</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rst/parameters.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.html" title="ptypy package"
             >next</a> |</li>
        <li class="right" >
          <a href="data_management.html" title="Data management"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.8.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Parameter tree structure</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Pierre Thibault, Bjoern Enders and others.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>